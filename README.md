# BOT_FOR_TASK: Telegram-бот

## Подготовка к запуску

В корневой директории проекта создать файл `config.php` и объявить в нем константы `BOT_TOKEN` и `BOT_HOST`, пример содержимого:
```bash
<?php

define('BOT_TOKEN', '7074589696:A45РM_K_udzKQfTwl4НJFDBzGde7kUaQP0');
define('BOT_HOST', 'https://6450-88-170-342-130.ngrok-free.com');
```
где `BOT_TOKEN` - токен доступа к API Telegram,
`BOT_HOST` название домена для приема входящих запросов.
Порт 12221 TCP должен быть открыт (его можно поменять на другой доступный в файле `docker/docker-compose.yml`).

## Запуск

В терминале выполнить последовательно:

1)
```
make docker.start.all
```
- запуск или первая установка контейнеров;
2)
```
make migrate
```
- запись схем таблиц базы данных;
3)
```
make composer.install
```
- установка зависимостей;
4)
```
make set.webhook
```
- установка веб-хука для Telegram-бота.

Примечание - команды в п. 2 и 3 выполняются один раз при первом запуске контейнеров.

## Остановка контейнеров

Остановить все контейнеры можно командой:
```
make docker.stop.all
```

Остальные доступные команды, в т.ч. служебные, см. в файле Makefile.
